<%= simple_form_for @user, html: {multipart: true}  do |f| %>
    <% if yield(:data) == 'register' || params[:data] == 'password' %>
        <div class="row" id="login_candidate_info">
          <div class="col-md-6">
            <%= f.input :email %>
          </div>
        </div>
        <div class="row">
          <% if params[:data] == 'password' %>
              <div class="col-md-6">
                <%= f.input :old_password, label: "Password Atual" %>
              </div>
          <% end %>
        </div>
        <div class="row">
          <div class="col-md-6">
            <%= f.input :password %>
          </div>
          <%= f.hidden_field :entitie, value: '1' %>
          <div class="col-md-6">
            <%= f.input :password_confirmation, label: "Confirmação Password" %>
          </div>
        </div>
        <hr>
    <% end %>
    <% if yield(:data) == 'register' || params[:data] == 'edit' %>

        <div id="info_candidate" class="profile">
          <div class="row">
            <%= render 'layouts/form_personal_data', :f => f %>
            <div class="row">
              <div class="col-md-2">
                <%= f.label :birth_date, "Data de Nascimento" %>
                <%= f.date_field :birth_date, 'data-provide' => 'datepicker', class: 'form-control' %>
              </div>
              <div class="col-md-3 col-md-offset-4">
                <%= f.input :idnum,label: yield(:idnumber)  %>
              </div>

            </div>
            <hr>
            <div class="row">
              <div class="col-md-3">
                <%= f.input :curriculum, label: "Curriculum Vitae"  %>
              </div>
              <div class="col-md-2 col-md-offset-3">
                <%= f.input :prof_area, label: "Atividade Profissional",collection: (['Programador Web','Web Designer','Administrador Sistemas','Administrador Redes']) %>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <%= f.input :presentation, as: :text, label:  "Apresentação", placeholder: 'Descrição do candidato (max. 140 carácteres)' %>

            </div>
            <div class="col-md-2">
              <%= f.input :skill_level, label: "Nível de Habilitações", collection: (['Secundário','Licenciatura','Mestrado','Doutoramento']) %>
            </div>
            <div class="col-md-12">
              <%= f.input :skills,as: :text, label: "Habilitações Literárias", placeholder: 'Percurso académico, habilitações, etc.' %>
            </div>
            <div class="col-md-2">
              <%= f.input :prof_situation, label: "Situação Profissional" ,collection: (['Empregado','Desempregado']) %>
            </div>
            <div class="col-md-12">
              <%= f.input :prof_experience,as: :text, label: "Experiência Profissional", placeholder:'Projecto e tecnologias que trabalhou na empresa anterior.' %>
            </div>
          </div>
    <% end %>
    <div class="col-md-2">
      <%= f.button :submit, class: "btn btn-primary" %>
    </div>
<% end %>
</div>
<script type="text/javascript">
  $('#user_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('O tamanho máximo é de 5MB. Por favor escolha uma imagem mais pequena.');
    }
  });
  $('#user_curriculum').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('O tamanho máximo é de 5MB. Por favor escolha um formato do currículo mais pequeno.');
    }
  });
</script>
